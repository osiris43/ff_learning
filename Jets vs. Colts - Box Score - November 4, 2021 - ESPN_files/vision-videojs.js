!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VISION",[],t):"object"==typeof exports?exports.VISION=t():e.VISION=t()}("undefined"!=typeof self?self:this,(function(){return e={624:(e,t,n)=>{"use strict";function i(){return"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node}function r(e){return e instanceof Uint8Array&&(!i()||!Buffer.isBuffer(e))}function a(e){return e instanceof ArrayBuffer}function o(e){return!!i()&&Buffer.isBuffer(e)}var s=n(350).g,u=n(508).l,c="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";t.uncompress=function(e){if(!r(e)&&!a(e)&&!o(e))throw new TypeError(c);var t=!1,n=!1;r(e)?t=!0:a(e)&&(n=!0,e=new Uint8Array(e));var i,u,d=new s(e),l=d.readUncompressedLength();if(-1===l)throw new Error("Invalid Snappy bitstream");if(t){if(i=new Uint8Array(l),!d.uncompressToBuffer(i))throw new Error("Invalid Snappy bitstream")}else if(n){if(i=new ArrayBuffer(l),u=new Uint8Array(i),!d.uncompressToBuffer(u))throw new Error("Invalid Snappy bitstream")}else if(i=Buffer.alloc(l),!d.uncompressToBuffer(i))throw new Error("Invalid Snappy bitstream");return i},t.compress=function(e){if(!r(e)&&!a(e)&&!o(e))throw new TypeError(c);var t=!1,n=!1;r(e)?t=!0:a(e)&&(n=!0,e=new Uint8Array(e));var i,s,d,l=new u(e),p=l.maxCompressedLength();return t?(i=new Uint8Array(p),d=l.compressToBuffer(i)):n?(i=new ArrayBuffer(p),s=new Uint8Array(i),d=l.compressToBuffer(s)):(i=Buffer.alloc(p),d=l.compressToBuffer(i)),i.slice(0,d)}},508:(e,t)=>{"use strict";var n=new Array(15);function i(e,t){return 506832829*e>>>t}function r(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)}function a(e,t,n){return e[t]===e[n]&&e[t+1]===e[n+1]&&e[t+2]===e[n+2]&&e[t+3]===e[n+3]}function o(e,t,n,i,r){return n<=60?(i[r]=n-1<<2,r+=1):n<256?(i[r]=240,i[r+1]=n-1,r+=2):(i[r]=244,i[r+1]=n-1&255,i[r+2]=n-1>>>8,r+=3),function(e,t,n,i,r){var a;for(a=0;a<r;a++)n[i+a]=e[t+a]}(e,t,i,r,n),r+n}function s(e,t,n,i){return i<12&&n<2048?(e[t]=1+(i-4<<2)+(n>>>8<<5),e[t+1]=255&n,t+2):(e[t]=2+(i-1<<2),e[t+1]=255&n,e[t+2]=n>>>8,t+3)}function u(e,t,n,i){for(;i>=68;)t=s(e,t,n,64),i-=64;return i>64&&(t=s(e,t,n,60),i-=60),s(e,t,n,i)}function c(e,t,s,c,d){for(var l=1;1<<l<=s&&l<=14;)l+=1;var p=32-(l-=1);void 0===n[l]&&(n[l]=new Uint16Array(1<<l));var _,f=n[l];for(_=0;_<f.length;_++)f[_]=0;var m,v,g,h,y,b,S,w,I,O,A=t+s,j=t,k=t,E=!0;if(s>=15)for(m=A-15,g=i(r(e,t+=1),p);E;){b=32,h=t;do{if(v=g,S=b>>>5,b+=1,h=(t=h)+S,t>m){E=!1;break}g=i(r(e,h),p),y=j+f[v],f[v]=t-j}while(!a(e,t,y));if(!E)break;d=o(e,k,t-k,c,d);do{for(w=t,I=4;t+I<A&&e[t+I]===e[y+I];)I+=1;if(t+=I,d=u(c,d,w-y,I),k=t,t>=m){E=!1;break}f[i(r(e,t-1),p)]=t-1-j,y=j+f[O=i(r(e,t),p)],f[O]=t-j}while(a(e,t,y));if(!E)break;g=i(r(e,t+=1),p)}return k<A&&(d=o(e,k,A-k,c,d)),d}function d(e){this.array=e}d.prototype.maxCompressedLength=function(){var e=this.array.length;return 32+e+Math.floor(e/6)},d.prototype.compressToBuffer=function(e){var t,n=this.array,i=n.length,r=0,a=0;for(a=function(e,t,n){do{t[n]=127&e,(e>>>=7)>0&&(t[n]+=128),n+=1}while(e>0);return n}(i,e,a);r<i;)a=c(n,r,t=Math.min(i-r,65536),e,a),r+=t;return a},t.l=d},350:(e,t)=>{"use strict";var n=[0,255,65535,16777215,4294967295];function i(e,t,n,i,r){var a;for(a=0;a<r;a++)n[i+a]=e[t+a]}function r(e,t,n,i){var r;for(r=0;r<i;r++)e[t+r]=e[t-n+r]}function a(e){this.array=e,this.pos=0}a.prototype.readUncompressedLength=function(){for(var e,t,n=0,i=0;i<32&&this.pos<this.array.length;){if(e=this.array[this.pos],this.pos+=1,(t=127&e)<<i>>>i!==t)return-1;if(n|=t<<i,e<128)return n;i+=7}return-1},a.prototype.uncompressToBuffer=function(e){for(var t,a,o,s,u=this.array,c=u.length,d=this.pos,l=0;d<u.length;)if(t=u[d],d+=1,0==(3&t)){if((a=1+(t>>>2))>60){if(d+3>=c)return!1;o=a-60,a=1+((a=u[d]+(u[d+1]<<8)+(u[d+2]<<16)+(u[d+3]<<24))&n[o]),d+=o}if(d+a>c)return!1;i(u,d,e,l,a),d+=a,l+=a}else{switch(3&t){case 1:a=4+(t>>>2&7),s=u[d]+(t>>>5<<8),d+=1;break;case 2:if(d+1>=c)return!1;a=1+(t>>>2),s=u[d]+(u[d+1]<<8),d+=2;break;case 3:if(d+3>=c)return!1;a=1+(t>>>2),s=u[d]+(u[d+1]<<8)+(u[d+2]<<16)+(u[d+3]<<24),d+=4}if(0===s||s>l)return!1;r(e,l,s,a),l+=a}return!0},t.g=a},943:e=>{e.exports={libVersion:"9.13.1",config:{disableSdkVersions:"",disableMediaSdkVersions:"",disableAppVersions:"",disableMediaAppVersions:"",collection:!0,mediaCollection:!0,compression:"none",pollConfigIntervalSec:600,flushAtEventCount:10,flushIntervalSec:60,mediaLengthShortSec:90,mediaLengthMediumSec:3600,mediaHeartbeatShortSec:5,mediaHeartbeatMediumSec:10,mediaHeartbeatLongSec:20,mediaPauseTimeoutSec:600,mediaAdHeartbeatSec:5,pageHeartbeatCollection:!1,pageHeartbeatInSeconds:60,pageActiveThreshold:120,privacy:!1},vpk:"vision",storageVariables:{localStorage:["visionEvents","visionMediaEvents","visionConfigTimestamp","visionConfiguration","visionSession","visionAnonId"],sessionStorage:["visionPageId","visionPageIdSource","visionPageInstanceId","visionPageLocation","visionPagePreviousUrl","visionDeviceAdvertiserId","visionStateTest","visionStatePrivacy","visionUserGuestId","visionUserAffiliate","visionUserMvpdShortName","visionUserMvpdName","visionUserSubscriberType","visionUserAccessMethod","visionUserDisneyPlusBundle","visionUserSubscriptionId","visionUserDssId","visionBrowserSession"]}}},436:e=>{e.exports={globalMappings:{browser_height:["br2",!1,!0],browser_width:["br3",!1,!0],browser_cookies_flag:["br4",!1,!0],browser_local_storage_flag:["br5",!1,!0],browser_java_flag:["br6",!1,!0],browser_javascript_version:["br7",!1,!0],browser_plugins:["br8",!1,!0],browser_flash_version:["br9",!1,!0],device_height:["d5",!1,!0],device_width:["d6",!1,!0],device_advertiser_id:["d13",!1,!0],user_guest_id:["u1",!1,!0],user_affiliate:["u2",!0,!0],user_mvpd_short_name:["u3",!0,!0],user_mvpd_name:["u4",!0,!0],user_subscriber_type:["u5",!0,!0],user_access_method:["u6",!0,!0],user_disney_plus_bundle:["u7",!0,!0],user_anonymous_id:["u8",!1,!0],user_subscription_id:["u9",!0,!0],user_dss_id:["u10",!0,!0]},eventMappings:{ad_id:"ad1",ad_creative:"ad2",ad_type:"ad3",ad_placement:"ad4",ad_orientation:"ad6",ad_destination_url:"ad7",ad_version:"ad8",ad_parent_type:"ad9",ad_parent_id:"ad10",ad_pod_number:"ad11",ad_pod_size:"ad12",api_url:"ap1",api_method:"ap2",api_response_time:"ap3",article_id:"ar1",article_id_source:"ar2",article_name:"ar3",event_name:"e2",event_instance_id:["e3",!1,!0],event_session_sequence_num:["e4",!1,!0],event_timestamp:"e6",event_log_timestamp:["e7",!1,!0],event_test:"e10",event_error_code:"e11",event_error_message:"e12",event_error_stack_trace:"e13",funnel_type:"fn1",funnel_name:"fn2",funnel_milestone:"fn3",link_module_name:"l1",link_module_position:"l2",link_name:"l4",link_position:"l5",link_destination_location:"l7",link_destination_url:"l8",media_id:"m1",media_id_source:"m2",media_name:"m3",media_observed_bitrate:"m5",media_content_length:"m6",media_current_position:"m7",media_current_chapter:"m8",media_player_name:"m9",media_player_type:"m10",media_player_version:"m11",media_session_id:"m12",media_subtitle_language:"m16",media_audio_language:"m18",media_video_type:"m20",media_playlist_id:"m24",media_ad_id:"m26",media_ad_id_source:"m27",media_time_spent:"m28",media_ad_time_spent:"m29",media_live:"m30",media_viewing_mode:"m31",media_channel:"m32",media_air_date:"m33",media_air_time:"m34",media_airing_id:"m35",media_program_code:"m36",media_segment:"m37",media_sport:"m38",media_league:"m39",media_start_type:"m40",media_network_name:"m41",media_is_mute:"m42",media_live_scoring:"m43",media_autoplay_sound:"m45",media_video_type_detail:"m46",media_show_code:"m47",media_play_location:"m48",media_gam_event_key_part:"m49",media_gam_line_item_id:"m50",media_gam_impression_id:"m51",media_gam_time_usec2:"m52",media_binge_play_count:"m53",page_location:["p1",!0],page_url:["p2",!0],page_id:["p3",!0],page_id_source:["p4",!0],page_instance_id:["p5",!0],page_previous_url:["p6",!0,!0],page_z_axis:"p7",page_version:"p8",page_type:["p9",!0],page_time_spent:"p10",page_user_mode:"p11",page_auth_flag:"p12",page_nav_method:"p13",page_premium_content:"p14",pzncon_event:"pc1",pzncon_personalized:"pc2",pzncon_curated:"pc3",pzncon_reason:"pc4",pzncon_rule:"pc5",pzncon_edition:"pc6",pzncon_slot_position:"pc7",pzncon_presentation_type:"pc8",pzncon_content_id:"pc9",pzncon_content_id_type:"pc10",pzncon_nav_method:"pc11",pzncon_clubhouse:"pc12",pzncon_feed_version:"pc13",pzncon_content_score:"pc14",pzncon_entitled:"pc15",pzncon_collection_id:"pc16",pzncon_collection_id_type:"pc17",pzncon_personal_metadata:"pc18",pzncon_originally_published:"pc19",pzncon_last_modified:"pc20",pzncon_content_title:"pc21",pzncol_collection_id:"pcl1",pzncol_collection_id_type:"pcl2",pzncol_content_id:"pcl3",pznfav_event:"pf1",pznfav_entity_id:"pf2",pznfav_entity_type:"pf3",prompt_view:"pr1",prompt_input:"pr2",payment_id:"py1",payment_category:"py2",payment_balance:"py3",payment_type:"py4",payment_sub_type:"py5",payment_currency:"py6",payment_country:"py7",payment_amount:"py8",payment_partner:"py9",payment_item:"py10",payment_item_count:"py11",payment_pay_wall_shown:"py12",payment_program_data:"py13",registration_guest_id:"r1",registration_guest_id_domain:"r2",registration_flow:"r3",registration_step:"r4",state_cmp:["s1",!0],state_test:["s2",!0],state_orientation:["s3",!1,!0],session_id:["se1",!1,!0],session_language:["se2",!1,!0],session_first_page:["se3",!1,!0],session_first_url:["se4",!1,!0],session_first_referrer_url:["se5",!1,!0],session_start_timestamp:["se9",!1,!0],session_total_time:["se10",!1,!0],search_module:"sr1",search_type:"sr2",search_keyword_executed:"sr3",search_keyword_typed:"sr4",search_refinement:"sr5",search_results_count:"sr6"}}},94:(e,t,n)=>{var i=n(943).libVersion,r=n(436),a=r.globalMappings,o=r.eventMappings,s=n(881),u=n(727),c=n(769),d=n(921).publish;function l(e,t,n,i,r,a,o,s){var u;try{if(s||(u=i[a],delete i[a]),void 0===u||""===u)if(t[a]&&t[a].getValue)u=t[a].getValue();else if(o){var l=a.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("");u=c.getFromState(e,l)}}catch(e){d("debug","Error caught in fetching property "+a+" value. "+e.stack,"error")}try{if(void 0!==u&&""!==u&&(n[r]=u,o)){var p=a.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("");c.saveToState(e,p,u)}}catch(e){d("debug","Error caught in retrieving property "+a+" value. "+e.stack,"error")}}function p(e,t,n,i){var r,a,o={};for(var s in n)try{r=a=!1;var u=n[s];Array.isArray(u)&&(r=u[1]||!1,a=u[2]||!1,u=u[0]),l(e,t,o,i,u,s,r,a)}catch(e){}return o}e.exports={createEventProps:function(e,t,n){for(var i=[],r=0;r<n.length;r++){var a=n[r]||{};if(0!==Object.keys(a).length){if("page_view"===a.event_name){var l=c.getFromState(e,"PageUrl");l&&c.saveToState(e,"PagePreviousUrl",l)}if(a.page_location&&!u.visionSession.session_first_page&&s.updateSession({session_first_page:a.page_location}),a.page_url&&!u.visionSession.session_first_url&&s.updateSession({session_first_url:a.page_url}),!u.visionSession.session_first_referrer_url){var _=c.getFromState(e,"PagePreviousUrl");_&&s.updateSession({session_first_referrer_url:_})}a.hasOwnProperty("event_timestamp")||(a.event_timestamp=Date.now());try{var f={},m=p(e,t,o,a);Object.assign(f,m),Object.keys(a).length>0&&(f.unmapped=a),i.push(f)}catch(e){d("debug","Error caught in building event. "+e.stack,"error")}}}return i},buildGlobalJson:function(e,t){var n={global:{a1:e.app_bundle_id,a2:e.app_suite,a3:e.app_platform,a4:e.app_version,a5:i,a6:e.app_region,a7:e.app_country,a8:e.app_network,a10:e.app_zipcode,a11:e.app_id},events:[]},r=p(e,t,a,{});return Object.assign(n.global,r),n}}},596:(e,t,n)=>{var i=n(758).mediaSessionUuid;e.exports=function(e,t){var n,r,a,o,s,u=null,c=null,d=0,l=0,p=0,_=0,f=1,m=function(t){return null===t?e.mediaHeartbeatLongSec:t<e.mediaLengthShortSec?e.mediaHeartbeatShortSec:t<e.mediaLengthMediumSec?e.mediaHeartbeatMediumSec:e.mediaHeartbeatLongSec},v=function(n,i,r){var a=("ad"===i&&r?r:l)/1e3||0,o=("ad"!==i&&r?r:d)/1e3||0;if("ad"===i)Math.abs(p-a)>e.mediaAdHeartbeatSec+1&&(a=p+e.mediaAdHeartbeatSec,l=1e3*a,c=Date.now());else{var s=m(n.media_content_length);Math.abs(_-o)>s+1&&(d=1e3*(o=_+s),u=Date.now())}_=o,p=a;var f=Object.assign(n,{media_ad_time_spent:a,media_time_spent:o,event_timestamp:Date.now()});t(f)},g=function(e){var t=JSON.parse(e);t.media_session_id=s,t.event_name="media_ad_stop",v(t,"ad"),l=0,p=0,d=0,_=0,c=null,s=null},h=function(e){var t=JSON.parse(e),n=Date.now()-parseInt(c,10)+l;t.media_session_id=s,t.event_name="media_ad_heartbeat",t.media_current_position=null,n>12e4*f?(clearInterval(r),l=n,g(e)):v(t,"ad",n)},y=function(e){var t=JSON.parse(e);s=null,t.event_name="media_stop",f=1,v(t),l=0,p=0,d=0,_=0,u=null,c=null},b=function(e){var t=JSON.parse(e),i=Date.now()-parseInt(u,10)+d;t.media_session_id=s,t.event_name="media_heartbeat",t.media_current_position=null,t.media_content_length&&i>2*t.media_content_length*1e3?(clearInterval(n),d=i,y(e)):v(t,"video",i)};return{createEvent:function(t){var S=e.mediaHeartbeatShortSec,w=Date.now();switch(t.media_session_id=s,t.event_name){case"media_ad_start":if(!s){var I=Object.assign({},t);s=i(),I.event_name="media_init",I.media_session_id=s,v(I,"ad"),t.event_name="media_ad_start"}c=w,l=l||0,t.media_session_id=s,r&&clearInterval(r),r=setInterval(h.bind(null,JSON.stringify(t)),1e3*e.mediaAdHeartbeatSec),u&&(d=Date.now()-parseInt(u,10)+d,clearInterval(n),u=null),v(t,"ad");break;case"media_ad_stop":if(null==s)return;clearInterval(r),o&&clearTimeout(o),c&&(l=Date.now()-parseInt(c,10)+l),d>0&&(u=w,S=m(t.media_content_length),n&&clearInterval(n),n=setInterval(b.bind(null,JSON.stringify(t)),1e3*S)),f+=1,v(t,"ad"),c=null;break;case"media_ad_skipped":if(null==s)return;clearInterval(r),o&&clearTimeout(o),c&&(l=Date.now()-parseInt(c,10)+l),d>0&&(u=w,S=m(t.media_content_length),n&&clearInterval(n),n=setInterval(b.bind(null,JSON.stringify(t)),1e3*S)),f+=1,v(t,"ad");var O=Object.assign({},t,{event_name:"media_ad_stop"});v(O,"ad"),c=null;break;case"media_dispose_ad_stop":if(clearInterval(r),o&&clearTimeout(o),n&&clearInterval(n),null===c)return;l=Date.now()-parseInt(c,10)+l,t.event_name="media_ad_stop",f+=1,v(t,"ad"),l=0,p=0,d=0,_=0,u=null,s=null;break;case"media_ad_play":if(!s){var A=Object.assign({},t);s=i(),A.event_name="media_init",A.media_session_id=s,v(A),t.event_name="media_ad_start"}t.media_session_id=s,c=w,o&&clearTimeout(o),r&&clearInterval(r),r=setInterval(h.bind(null,JSON.stringify(t)),1e3*e.mediaAdHeartbeatSec),v(t,"ad");break;case"media_ad_pause":if(null==s)return;clearInterval(r),l=Date.now()-parseInt(c,10)+l,o=setTimeout(g.bind(null,JSON.stringify(t)),1e3*e.mediaPauseTimeoutSec),c=null,v(t,"ad");break;case"media_buffer_start":case"media_buffer_end":if(null==s)return;d=Date.now()-parseInt(u,10)+d,u=w,v(t,"video");break;case"media_start":if(!s){var j=Object.assign({},t);s=i(),j.event_name="media_init",j.media_session_id=s,v(j),t.event_name="media_start"}l=l||0,u=w,S=m(t.media_content_length),n&&clearInterval(n),n=setInterval(b.bind(null,JSON.stringify(t)),1e3*S),t.media_session_id=s,v(t);break;case"media_pause":if(!s||!u)return;d=Date.now()-parseInt(u,10)+d,a=setTimeout(y.bind(null,JSON.stringify(t)),1e3*e.mediaPauseTimeoutSec),clearInterval(n),u=null,v(t);break;case"media_play":if(!s){var k=Object.assign({},t);s=i(),k.event_name="media_init",k.media_session_id=s,v(k),t.event_name="media_start"}u=w,S=m(t.media_content_length),n&&clearInterval(n),n=setInterval(b.bind(null,JSON.stringify(t)),1e3*S),a&&clearTimeout(a),t.media_session_id=s,v(t);break;case"media_stop":if(n&&clearInterval(n),a&&clearTimeout(a),null==s)return;s=null,u&&(d=Date.now()-parseInt(u,10)+d),f=1,v(t),l=0,p=0,d=0,_=0,u=null;break;case"media_forward":if(null==s)return;d=Date.now()-parseInt(u,10)+d,u=w,v(t,"video");break;case"media_backward":if(!s||!u)return;d=Date.now()-parseInt(u,10)+d,u=w,v(t,"video")}}}}},108:(e,t,n)=>{function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=n(317),c=n(476),d=n(334),l=n(881),p=n(727),_=n(921),f=_.subscribe,m=_.publish,v=n(769),g=n(758),h=g.removeFromIdArray,y=g.wrapFunction,b=n(943).storageVariables;u.init(),c.init(),d.init(),l.init();var S=function(){"use strict";var e;function t(){return e||(this.__mediaInstances=[],this.__producerData={},this.__queuefn=[],this.__isInitialized=!1,e=this),e}t.getInstance=function(){return e||new t},t.setConfigs=function(n){e=t.getInstance();try{u.setConfig(n),e.__initVision()}catch(e){m("debug",e,"error")}},t.clearStorage=function(){if((e=t.getInstance()).__isInitialized){if(p.config.storageEnabled){for(var n=0;n<b.localStorage.length;n++)localStorage.removeItem(b.localStorage[n]);for(var i=0;i<b.sessionStorage.length;i++)sessionStorage.removeItem(b.sessionStorage[i])}}else e.__queuefn.push(y(t.clearStorage,e))},t.prototype.__initVision=function(){p.page.startTime||(!window.JSON&&document.write('<script src="http://cdnjs.cloudflare.com/ajax/libs/json3/3.3.2/json3.min.js"><\/script>'),v.setOnloadState({PagePreviousUrl:document.referrer||"na",PageInstanceId:Date.now()+"-"+Math.floor(1e13*Math.random())}),f("session.page-heartbeat",(function(){return e.__trackQueue({event_name:"page_heartbeat"})})),f("session.page-close",(function(){return e.__trackQueue({event_name:"page_close"})})),u.startRemoteConfigSync(),d.watchEventBatch(),l.observePageActivity(),e.__queuefn.splice(0,e.__queuefn.length).forEach((function(e){return e()})),e.__isInitialized=!0)},t.prototype.set=function(){e.__isInitialized?e.__set(arguments):e.__queuefn.push(y(e.__set,e,arguments))},t.prototype.__set=function(t){try{if("object"===s(arguments[0])){if(void 0!==arguments[1]&&!0===arguments[1]&&void 0!==e.__producerData[arguments[0]])return;Object.assign(e.__producerData,arguments[0])}else"string"==typeof arguments[0]&&(e.__producerData[arguments[0]]=arguments[1])}catch(e){m("debug","Error in setting singleton property. "+e.stack,"error")}},t.prototype.get=function(t){return e.__producerData[t]},t.prototype.__addGuestIdQueue=function(e,t,n,i){i=i?i.toString():"tertiary";var r=["primary","secondary"].indexOf(i.toLowerCase());try{-1!==r?p.userGuestId[r]={id:e,s:t,l:n}:!p.userGuestId.some((function(t){return t.id===e}))&&p.userGuestId.push({id:e,s:t,l:n})}catch(r){m("debug","Error adding guest information: "+e+", "+t+", "+n+", "+i+", to array. "+r.stack,"error")}};var n=function(e){return function(){v.deleteFromState(p.config,e)}},a=function(n){return function(){e=t.getInstance();for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];e.__isInitialized?n.call.apply(n,[e].concat(r)):e.__queuefn.push(y(n,e,[].concat(r)))}};return["device_advertiser_id","state_privacy","user_affiliate","user_mvpd_short_name","user_mvpd_name","user_subscriber_type","user_access_method","user_disney_plus_bundle"].forEach((function(e){var i=e.split("_").slice(1).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(""),r=e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("");t["set"+i]=a(function(e){return function(t){v.saveToState(p.config,e,t)}}(r)),t["unset"+i]=a(n(r))})),["state_test","user_dss_id"].forEach((function(e){var i=e.split("_").slice(1).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(""),o=e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("");t["add"+i]=a(function(e){return function(t,n){var i=JSON.parse(v.getFromState(p.config,e))||[];!i.some((function(e){return e.id===t}))&&v.saveToState(p.config,e,[].concat(r(i),[{id:t,s:n}]))}}(o)),t["unset"+i]=a(function(e){return function(t){var n=JSON.parse(v.getFromState(p.config,e))||[],i=h(t,n,0);return i&&v.saveToState(p.config,e,n),i}}(o)),t["unsetAll"+i]=a(n(o))})),t.addGuestId=a(t.prototype.__addGuestIdQueue),t.addSubscriptionId=a((function(){for(var e="UserSubscriptionId",t=JSON.parse(v.getFromState(p.config,e))||[],n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var s=1===a.length?[void 0,a[0]]:a,u=i(s,2),c=u[0],d=u[1],l=t.some((function(e){return e.id===c&&e.s===d}));!l&&v.saveToState(p.config,e,[].concat(r(t),[{id:c,s:d}]))})),t.unsetSubscriptionId=a((function(e){var t="UserSubscriptionId",n=JSON.parse(v.getFromState(p.config,t))||[],i=n.filter((function(t){return t.s!==e})),r=n.length!==i.length;return r&&v.saveToState(p.config,t,i),r})),t.unsetAllSubscriptionId=a(n("UserSubscriptionId")),t}();e.exports=S},698:e=>{e.exports={browser:{width:{id:"browser_width",getValue:function(){return parseInt(window.innerWidth,10)||parseInt(document.body.clientWidth,10)}},height:{id:"browser_height",getValue:function(){return parseInt(window.innerHeight,10)||parseInt(document.body.clientHeight,10)}},plugins:{id:"browser_plugins",getValue:function(){var e=[];for(var t in navigator.plugins)e.push(navigator.plugins[t].name);return e.join(";")}},localStorage:{id:"browser_local_storage_flag",getValue:function(){var e,t="test";try{sessionStorage.setItem(t,t),sessionStorage.removeItem(t),e=!0}catch(t){e=!1}return e}},jsVersion:{id:"browser_javascript_version",getValue:function(){var e=[];return Number.prototype.toFixed&&e.push("1.5"),[].indexOf&&[].forEach&&e.push("1.6"),function(){var e;try{e=[1,3]}catch(t){e=!1}return e}()&&e.push("1.7"),[].reduce&&[].reduceRight&&JSON&&e.push("1.8"),"".trimLeft&&e.push("1.8.1"),e[e.length-1]}},javaFlag:{id:"browser_java_flag",getValue:function(){return navigator.javaEnabled&&navigator.javaEnabled()}},cookies:{id:"browser_cookies_flag",getValue:function(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}},flashVersion:{id:"browser_flash_version",getValue:function(){var e,t,n,i=-1;if(null!=navigator.plugins&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var r=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",a=navigator.plugins["Shockwave Flash"+r].description.split(" "),o=a[2].split("."),s=o[0],u=o[1],c=a[3];""===c&&(c=a[4]),"d"===c[0]?c=c.substring(1):"r"===c[0]&&(c=c.substring(1)).indexOf("d")>0&&(c=c.substring(0,c.indexOf("d"))),i=s+"."+u+"."+c}}else-1!==navigator.userAgent.toLowerCase().indexOf("webtv/2.6")?i=4:-1!==navigator.userAgent.toLowerCase().indexOf("webtv/2.5")?i=3:-1!==navigator.userAgent.toLowerCase().indexOf("webtv")?i=2:(e=!(-1===navigator.appVersion.indexOf("MSIE")),t=!(-1===navigator.appVersion.toLowerCase().indexOf("win")),n=!(-1===navigator.userAgent.indexOf("Opera")),e&&t&&!n&&(i=function(){var e,t;try{e=(t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(e){}if(!e)try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e="WIN 6,0,21,0",t.AllowScriptAccess="always",e=t.GetVariable("$version")}catch(e){}if(!e)try{e=(t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.3")).GetVariable("$version")}catch(e){}if(!e)try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),e="WIN 3,0,18,0"}catch(e){}if(!e)try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e="WIN 2,0,0,11"}catch(t){e=-1}return e}()));return"flash_version:"+i}}}}},159:e=>{e.exports={device:{advertiserId:{id:"device_advertiser_id",getValue:function(){return sessionStorage.getItem("visionDeviceAdvertiserId")}},height:{id:"device_height",getValue:function(){return parseInt(screen.height,10)}},width:{id:"device_width",getValue:function(){return parseInt(screen.width,10)}}}}},485:(e,t,n)=>{var i=n(881),r=n(727);e.exports={event:{instanceId:{id:"event_instance_id",getValue:function(){return Date.now()+"-"+Math.floor(1e13*Math.random())}},logTimestamp:{id:"event_log_timestamp",getValue:function(){return Date.now()}},sessionSequenceNum:{id:"event_session_sequence_num",getValue:function(){return i.updateSession({event_session_sequence_num:function(e){return e+1}}),r.visionSession.event_session_sequence_num}}}}},450:(e,t,n)=>{var i=n(698).browser,r=n(159).device,a=n(485).event,o=n(909).page,s=n(542).session,u=n(398).state,c=n(717).user;function d(){try{this.__initialize()}catch(e){}}d.prototype.__initialize=function(){var e={},t=[i,r,a,o,s,u,c];for(var n in t){var d=t[n];for(var l in d)e[d[l].id]=d[l]}return this.__variableLogic=e,e},d.prototype.getVariableLogic=function(){return this.__variableLogic},e.exports=d},909:e=>{e.exports={page:{instanceId:{id:"page_instance_id",getValue:function(){return sessionStorage.getItem("visionPageInstanceId")}},location:{id:"page_location",getValue:function(){return sessionStorage.getItem("visionPageLocation")||""}}}}},542:(e,t,n)=>{var i=n(727),r=["session_id","session_first_page","session_first_url","session_first_referrer_url","session_start_timestamp"].reduce((function(e,t){return e[t.split("_").slice(1,2).join("")+t.split("_").slice(2).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")]={id:t,getValue:function(){return i.visionSession[t]}},e}),{});r.language={id:"session_language",getValue:function(){return navigator.language||navigator.browserLanguage}},r.totalTime={id:"session_total_time",getValue:function(){var e=i.visionSession.session_total_time||0;return Math.abs(Date.now()-i.page.startTime)<3e5&&(e+=(Date.now()-i.page.startTime)/1e3),e}},e.exports={session:r}},398:(e,t,n)=>{var i=n(212).url;e.exports={state:{stateCmp:{id:"state_cmp",getValue:function(){var e=i("?cmp",document.URL.toLowerCase());return e&&(e=unescape(e)),e||""}},test:{id:"state_test",getValue:function(){return JSON.parse(sessionStorage.getItem("visionStateTest"))||[]}},orientation:{id:"state_orientation",getValue:function(){return window.matchMedia("(orientation: landscape)").matches?"landscape":"portrait"}}}}},717:(e,t,n)=>{var i=n(727),r=["user_affiliate","user_mvpd_short_name","user_mvpd_name","user_subscriber_type","user_access_method"].reduce((function(e,t){var n=t.split("_").slice(1,2).join("")+t.split("_").slice(2).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(""),i="vision"+t.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("");return e[n]={id:t,getValue:function(){return sessionStorage.getItem(i)}},e}),{});r.guestId={id:"user_guest_id",getValue:function(){return i.userGuestId}},r.subscriptionId={id:"user_subscription_id",getValue:function(){return JSON.parse(sessionStorage.getItem("visionUserSubscriptionId"))||[]}},r.disneyPlusBundle={id:"user_disney_plus_bundle",getValue:function(){var e=sessionStorage.getItem("visionUserDisneyPlusBundle");return null!==e?"true"===e:null}},r.dssId={id:"user_dss_id",getValue:function(){return JSON.parse(sessionStorage.getItem("visionUserDssId"))||[]}},r.anonymousId={id:"user_anonymous_id",getValue:function(){return i.visionAnonId.user_anonymous_id}},e.exports={user:r}},317:(e,t,n)=>{function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(943),s=o.libVersion,u=o.config,c=n(698).browser,d=n(727),l=n(921).publish,p=n(438),_=function(e){Object.assign(d.config,e)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.config;localStorage.setItem("visionConfigTimestamp",Date.now()),localStorage.setItem("visionConfiguration",JSON.stringify(t));var n=t.flushIntervalSec&&t.flushIntervalSec!==d.config.flushIntervalSec;_(t),l("debug",JSON.stringify(t)),n&&l("config.flush-interval-update")},m=function e(t,n,i){i?p.fetchConfiguration(d.config,f,e,!1):l("debug",t,"error")},v=function(){p.fetchConfiguration(d.config,f,m,!0)};e.exports={init:function(){_(r(r({},u),{},{storageEnabled:c.localStorage.getValue()}))},setConfig:function(e){if(null==e||!e.url)throw new Error("API endpoint missing");_(e)},startRemoteConfigSync:function(){var e=localStorage.getItem("visionConfigTimestamp");!e||(Date.now()-e)/1e3>=d.config.pollConfigIntervalSec?v():_(JSON.parse(localStorage.getItem("visionConfiguration"))||{}),setInterval(v,1e3*d.config.pollConfigIntervalSec)},isCollectionDisabled:function(){var e=function(e,t){return e&&-1!==e.split(",").map((function(e){return e.trim()})).indexOf(t)};return!d.config.collection||e(d.config.disableSdkVersions,s)||e(d.config.disableAppVersions,d.config.app_version.replace(/\(.*\)/g,"").trim())},isMediaCollectionDisabled:function(){var e=function(e,t){return e&&-1!==e.split(",").map((function(e){return e.trim()})).indexOf(t)};return!d.config.mediaCollection||e(d.config.disableMediaSdkVersions,s)||e(d.config.disableMediaAppVersions,d.config.app_version.replace(/\(.*\)/g,"").trim())},__updateConfig:_,__fetchRemoteSuccess:f,__fetchRemoteError:m}},476:(e,t,n)=>{var i=n(921).subscribe,r=n(727);e.exports={init:function(){i("debug",(function(e,t){t="string"==typeof t&&t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"Debug",r.config.debugMode&&console.log("VISION Log: %s - "+e,t)}))}}},334:(e,t,n)=>{function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u,c,d=n(94),l=n(450),p=n(727),_=n(758),f=_.removeEmpty,m=_.removeEmptyFromArray,v=n(921),g=v.publish,h=v.subscribe,y=n(438),b=function(){},S=function(e){var t=f(d.buildGlobalJson(p.config,u));return t.events=m(e),t},w=function e(t,n,i,r){r?y.sendEvents(t,p.config,b,e,!1):g("debug",JSON.stringify(n),"error")},I=function(){var e=JSON.parse(localStorage.getItem("visionEvents"))||[];0!==e.length&&(y.sendEvents(S(e),p.config,b,w,!0),localStorage.removeItem("visionEvents"))},O=function(){c&&window.clearInterval(c),c=window.setInterval(I,1e3*p.config.flushIntervalSec)},A=function(e){return d.createEventProps(p.config,u,e)},j=function(e){var t=JSON.parse(localStorage.getItem("visionEvents"))||[],n=[].concat(o(t),o(A(e)));n.length>=p.config.flushAtEventCount?(y.sendEvents(S(n),p.config,b,w,!0),localStorage.removeItem("visionEvents")):localStorage.setItem("visionEvents",JSON.stringify(n))},k=function e(t,n,i,r){r?y.sendMedia(t,p.config,b,e,!1):g("debug",n,"error")};e.exports={init:function(){u=(new l).getVariableLogic()},watchEventBatch:function(){h("config.flush-interval-update",O),O()},handleEvents:function(e){var t=(e=Array.isArray(e)?e:[e]).reduce((function(e,t){var n,i=null!=t.event_name;if(!i&&g("debug","Missing property event_name. Event not sent","error"),!i||/^media_/.test(t.event_name))return e;var s=function(e){return e instanceof Date&&!isNaN(e)},u=new Date(t.pzncon_originally_published),c=new Date(t.pzncon_last_modified);t.pzncon_originally_published=s(u)?u.getTime():void 0,t.pzncon_last_modified=s(c)?c.getTime():void 0;var d="pzncon"!==t.event_name?"eventsToSend":"eventsToStore",l=e.isActivity||-1===["page_close","page_heartbeat"].indexOf(t.event_name);return r(r({},e),{},(a(n={},d,[].concat(o(e[d]),[t])),a(n,"isActivity",l),n))}),{eventsToSend:[],eventsToStore:[],isActivity:!1}),n=t.eventsToSend,i=t.eventsToStore;t.isActivity&&g("event.extend-activity"),n.length>0&&function(e){y.sendEvents(S(A(e)),p.config,b,w,!0)}(n),i.length>0&&j(i)},sendMedia:function(e){g("event.extend-activity"),y.sendMedia(S(A([e])),p.config,b,k,!0)},__sendEventsError:w,__sendBatch:I,__sendMediaError:k,__storeEvents:j}},881:(e,t,n)=>{function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(727),s=n(921),u=s.publish,c=s.subscribe,d=function(e,t){o[e]=t,localStorage.setItem(e,JSON.stringify(t))},l=function(){var e=Date.now(),t={active:e+18e5,event_session_sequence_num:0,expires:e+432e5,session_id:e+"-"+Math.floor(1e13*Math.random()),session_start_timestamp:e,session_total_time:0,vision_id:e+"-"+Math.floor(1e13*Math.random())};return d("visionSession",t),t},p=function(){var e,t=localStorage.getItem("visionSession");try{e=JSON.parse(t)}catch(e){}return null!=e?e:l()},_=function(e){var t=p(),n=Object.keys(e).reduce((function(n,i){return r(r({},n),{},a({},i,"function"==typeof e[i]?e[i](t[i]):e[i]))}),{});d("visionSession",r(r({},t),n))},f=function(){var e=p(),t=Date.now();e.expires-t>0&&e.active-t>0?d("visionSession",r(r({},e),{},{active:t+18e5})):l()},m=function(){var e,t=localStorage.getItem("visionAnonId");try{e=JSON.parse(t)}catch(e){}return null!=e&&e.expires-Date.now()>0?e:function(){var e=Date.now(),t={expires:e+33927469800,user_anonymous_id:e+"-"+Math.floor(1e13*Math.random())};return d("visionAnonId",t),t}()},v=function(){return o.page.startTime=Date.now()},g=function(){return o.page.lastActive=Date.now()},h=function(){return _({session_total_time:function(e){return(Date.now()-o.page.startTime)/1e3+parseFloat(e||0)}})},y=function(){var e=Date.now(),t=e-o.page.startTime;t>=0&&t<=1e3*(o.config.pageHeartbeatInSeconds+10)&&!1!==o.page.lastActive&&(e-o.page.lastActive<1e3*o.config.pageActiveThreshold?o.config.pageHeartbeatCollection&&u("session.page-heartbeat"):(u("session.page-close"),o.page.lastActive=!1),h()),v()},b=function(){f(),g()};e.exports={updateSession:_,init:function(){o.visionSession=p(),o.visionAnonId=m(),f()},observePageActivity:function(){c("event.extend-activity",b),window.document.addEventListener("scroll",g),window.addEventListener("beforeunload",h),setInterval(y,1e3*o.config.pageHeartbeatInSeconds),v(),g()},__updatePageActivity:y,__readAnonIdOrCreate:m}},900:e=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,n,i){var r,a,o,s,u,c,d,l,p,_,f,m,v,g=!1,h={},y=function(t){var r={event_name:t,media_player_type:e.currentType(),media_observed_bitrate:e.playbackRate(),media_content_length:isFinite(e.duration())&&e.duration()||null,media_current_position:e.currentTime(),media_viewing_mode:e.isFullscreen()?"full screen":"browse",media_is_mute:e.muted(),media_ad_id:e.ads&&e.ads.ad&&e.ads.ad.id,media_player_name:e.bcAnalytics&&e.bcAnalytics.settings&&e.bcAnalytics.settings.playerName,media_player_version:e.bcAnalytics&&e.bcAnalytics.settings&&e.bcAnalytics.settings.platformVersion,media_audio_language:e.language()},a=Object.assign({},e.mediainfo,n);i(r,a)};e.hasStarted_&&!e.paused()&&(h.started=!0,y("media_start")),r=function(){g=!0,y("media_ad_start")},a=function(){y("media_ad_stop"),g=!1},o=function(){y("media_ad_play")},s=function(){y("media_ad_pause")},u=function(){y("media_ad_skipped"),g=!1},c=function(){g&&(y("media_ad_stop"),g=!1),h.started||(h.started=!0,y("media_start"))},d=function(){h.started&&h.paused&&(h.paused=!1,y("media_play"))},l=function(){e.scrubbing()||e.seeking()||h.seeking||(h.paused=!0,y("media_pause"))},p=function(){y("media_stop"),h.paused=null,h.started=null},_=function(){var n;e&&(n="object"===t(e.ads)&&e.ads.isAdPlaying()?"media_dispose_ad_stop":"media_stop",y(n)),h.started=!1},f=function(){0!==e.bufferedEnd()||h.buffering||(h.buffering=!0,y("media_buffer_start")),h.seeking=!0},m=function(){var t;h.buffering&&(y("media_buffer_end"),h.buffering=!1),t=parseFloat(h.lastUpdatedTime)<parseFloat(e.currentTime())?"media_forward":"media_backward",y(t),h.seeking=!1},v=function(){e.scrubbing()||e.seeking()||h.seeking||(h.lastUpdatedTime=e.currentTime())},e.on("ads-ad-started",r),e.on("ads-ad-ended",a),e.on("ads-play",o),e.on("ads-pause",s),e.on("ads-ad-skipped",u),e.on("playing",c),e.on("play",d),e.on("pause",l),e.on("ended",p),e.on("dispose",_),e.on("seeking",f),e.on("seeked",m),e.on("timeupdate",v)}},727:e=>{e.exports={config:{},page:{startTime:void 0,lastActive:void 0},userGuestId:[],visionAnonId:{},visionSession:{}}},921:e=>{function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var i={};e.exports={subscribe:function(e,n){i[e]=Array.isArray(i[e])?[].concat(t(i[e]),[n]):[n];var r=i[e].length-1;return function(){i[e].splice(r,1)}},publish:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return null===(t=i[e])||void 0===t?void 0:t.forEach((function(e){return e.apply(void 0,r)}))}}},438:(e,t,n)=>{var i=n(624),r=n(943).vpk,a=n(727),o=n(758),s=o.str2ab,u=o.hash,c=function(e){return e.privacy||"true"===sessionStorage.getItem("visionStatePrivacy")},d=function(e){var t=["a6","a7","a10","d13","u1","u2","u8","u10"],n=["se2"];Object.keys(e.global).forEach((function(n){-1!==t.indexOf(n)&&delete e.global[n]})),null!=e.global.u9&&e.global.u9.forEach((function(e){delete e.id})),e.events.forEach((function(e){e.s4=!0,Object.keys(e).forEach((function(t){-1!==n.indexOf(t)&&delete e[t]}))}))},l=function(e,t,n){var i=a.visionSession.session_id,o=a.visionSession.vision_id,s=u(i,r);e.setRequestHeader("App-Id",t.app_id),e.setRequestHeader("Authorization",s),e.setRequestHeader("Vauth",s),e.setRequestHeader("Session-Id",i),e.setRequestHeader("Suite",t.app_suite),e.setRequestHeader("Vision-Id",o),null!=n&&(e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Event-Count",n.events.length.toString())),e.crossOrigin=!0,e.withCredentials=!0},p=function(e,t,n){if(!t.debugMode&&"snappy"===t.compression){var r=s(JSON.stringify(n)),a=i.compress(r);return e.setRequestHeader("Content-Encoding","snappy"),e.processData=!0,new Blob([a],{type:"text/plain"})}return JSON.stringify(n)};e.exports={fetchConfiguration:function(e,t,n,i){var r=XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");r.onreadystatechange=function(){4===this.readyState&&(200===this.status&&t(JSON.parse(this.responseText)),this.status>=400&&this.status<=500&&n(this.statusText,this.status,i))},r.open("GET",e.url+"config/"+e.app_suite,!0),l(r,e),r.contentType="application/json",r.send()},sendEvents:function(e,t,n,i,r){if(e.events=e.events.filter((function(e){return null==e.event_properties})),0!==e.events.length){c(t)&&d(e);var a=XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");a.onreadystatechange=function(){4===this.readyState&&((200===this.status||202===this.status)&&n("success"),this.status>=400&&this.status<=500&&i(e,this.statusText,this.status,r))},a.open("POST",t.url+"event",!0),l(a,t,e),a.send(p(a,t,e))}},sendMedia:function(e,t,n,i,r){if(e.events=e.events.filter((function(e){return null==e.event_properties})),0!==e.events.length){c(t)&&d(e);var a=XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");a.onreadystatechange=function(){4===this.readyState&&((200===this.status||202===this.status)&&n("success"),this.status>=400&&this.status<=500&&i(e,this.statusText,this.status,r))},a.open("POST",t.url+"media",!0),l(a,t,e),a.setRequestHeader("Event-Type",e.events[0].e2),a.setRequestHeader("Media-Session-Id",e.events[0].m12),a.send(p(a,t,e))}}}},758:e=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n={getVideoName:function(e){var t=e.split("/");return t[t.length-1].split(".")[0]},hash:function(e,t){for(var n=e.concat(t),i=n.length,r=[7,11],a=[71,173],o=[2277735313,289559509],s=[1291169091,658871167],u=0;u<i;u+=1)r=[(r[0]<<5)-r[0]+n.charCodeAt(u),(r[1]<<3)-r[1]+n.charCodeAt(u)],a=[(a[0]<<4)-a[0]+n.charCodeAt(u),(a[1]<<6)-a[1]+n.charCodeAt(u)],r=[r[0]^o[0],r[1]^o[1]],a=[a[0]^s[0],a[1]^s[1]];return("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)},removeEmpty:function(e){return Object.keys(e).forEach((function(i){return e[i]&&"object"===t(e[i])&&!Array.isArray(e[i])&&n.removeEmpty(e[i])||(""===e[i]||null===e[i]||"null"===e[i]||void 0===e[i]||"undefined"===e[i]||Array.isArray(e[i])&&0===e[i].length)&&delete e[i]})),e},removeEmptyFromArray:function(e){var t=[];return e.forEach((function(e){var i=n.removeEmpty(e);t.push(i)})),t},removeFromIdArray:function(e,t,n){for(var i in t)if(t[i]&&t[i].hasOwnProperty("id")&&t[i].id===e)return i>=n?(t.splice(i,1),!0):(t[i]={},!0);return!1},str2ab:function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return t},mediaSessionUuid:function(){return Date.now()+"-"+Math.floor(1e13*Math.random())},wrapFunction:function(e,t,n){return function(){e.apply(t,n)}}};e.exports=n},769:e=>{e.exports={getFromState:function(e,t){var n;return e.storageEnabled&&(n=sessionStorage.getItem("vision"+t)),n},saveToState:function(e,t,n){e.storageEnabled&&null!=n&&sessionStorage.setItem("vision"+t,Array.isArray(n)?JSON.stringify(n):n)},deleteFromState:function(e,t){e.storageEnabled&&sessionStorage.removeItem("vision"+t)},setOnloadState:function(e){Object.keys(e).forEach((function(t){null!=e[t]&&sessionStorage.setItem("vision"+t,Array.isArray(e[t])?JSON.stringify(e[t]):e[t])}))}}},212:e=>{function t(e){return!isNaN(parseFloat(e))&&isFinite(e)}e.exports={url:function(e,n){var i,r,a,o,s,u,c,d,l=n||window.location.toString();if(!e)return l;if(e=e.toString(),"//"===l.substring(0,2)?l="http:"+l:1===l.split("://").length&&(l="http://"+l),i={auth:""},1===(r=(n=l.split("/"))[2].split("@")).length?r=r[0].split(":"):(i.auth=r[0],r=r[1].split(":")),i.protocol=n[0],i.hostname=r[0],i.port=r[1]||"80",i.pathname=(n.length>3?"/":"")+n.slice(3,n.length).join("/").split("?")[0].split("#")[0],"/"===(a=i.pathname).charAt(a.length-1)&&(a=a.substring(0,a.length-1)),s=(o=i.hostname).split("."),u=a.split("/"),"hostname"===e)return o;if("domain"===e)return s.slice(-2).join(".");if("sub"===e)return s.slice(0,s.length-2).join(".");if("port"===e)return i.port||"80";if("protocol"===e)return i.protocol.split(":")[0];if("auth"===e)return i.auth;if("user"===e)return i.auth.split(":")[0];if("pass"===e)return i.auth.split(":")[1]||"";if("path"===e)return i.pathname;if("."===e.charAt(0)){if(t(e=e.substring(1)))return s[(e=parseInt(e,10))<0?s.length+e:e-1]||""}else{if(t(e))return u[(e=parseInt(e,10))<0?u.length+e:e]||"";if("file"===e)return u.slice(-1)[0];if("filename"===e)return u.slice(-1)[0].split(".")[0];if("fileext"===e)return u.slice(-1)[0].split(".")[1]||"";if("?"===e.charAt(0)||"#"===e.charAt(0)){if(c=l,d=null,"?"===e.charAt(0)?c=(c.split("?")[1]||"").split("#")[0]:"#"===e.charAt(0)&&(c=c.split("#")[1]||""),!e.charAt(1))return c;e=e.substring(1);for(var p=0,_=(c=c.split("&")).length;p<_;p++)if((d=c[p].split("="))[0]===e)return d[1];return null}}return""}}},322:(e,t,n)=>{var i=n(900),r=n(317),a=n(334),o=n(727).config,s=n(596),u=n(758).wrapFunction,c=n(557),d={trackMedia:function(e,t){this.__isInitialized?this.__trackMedia(e,t):this.__queuefn.push(u(this.__trackMedia,this,[e,t]))},__trackMedia:function(e,t){var n=this;if(!r.isCollectionDisabled()&&!r.isMediaCollectionDisabled()){var i=e,u=t.originalPublishDate||t.originalAirDate,c=u&&new Date(u);this.autoplaySound="autostart"===t.startType&&"media_start"===e.event_name&&(e.media_is_mute?"Autoplay Sound Off":"Autoplay Sound On")||this.autoplaySound,i.media_autoplay_sound=this.autoplaySound,i.media_air_date=c?c.toLocaleDateString():void 0,i.media_air_time=c?c.toLocaleTimeString():void 0,i.media_id=t.id,i.media_name=t.headline||t.name,i.media_video_type=t.status||"vod",i.media_live=t.live,i.media_channel=t.publisher,i.media_airing_id=t.simulcastAiringId||t.airingId,i.media_program_code=t.program,i.media_segment=t.segment,i.media_sport=t.sportName,i.media_league=t.leagueName,i.media_start_type=t.startType,i.media_network_name=t.publisher,i.media_video_type_detail=t.custom_fields&&t.custom_fields.mediaType,i.media_show_code=t.showcode,i.media_live_scoring=null==t.liveScoring?t.liveScoring:t.liveScoring?"Live Scoring On":"Live Scoring Off",i.media_id_source=t.webHref,i.media_ad_id_source=t.adIdSource,i.media_playlist_id=t.playlistId,i.media_play_location=t.playLocation,i.media_gam_event_key_part=t.gamEventKeyPart,i.media_gam_line_item_id=t.gamLineItemId&&parseInt(t.gamLineItemId,10),i.media_gam_impression_id=t.gamImpressionId,i.media_gam_time_usec2=t.gamTimeUsec2&&parseInt(t.gamTimeUsec2,10),i.media_binge_play_count=parseInt(t.playlistCount,10)||void 0;var d=this.__mediaInstances.findIndex((function(e){return e.mediaId===t.id}));if(d>=0){var l=this.__mediaInstances[d].instance;this.__latestMediaEvent=JSON.stringify(i),"media_pause"===e.event_name&&Math.abs(i.media_content_length-i.media_current_position)<1&&setTimeout((function(){var e=JSON.parse(n.__latestMediaEvent);"media_pause"===e.event_name&&(e.event_name="media_stop",l.createEvent(e))}),2e3),l.createEvent(i),"media_stop"===e.event_name&&this.__mediaInstances.splice(d,1)}else if("media_start"===e.event_name||"media_ad_start"===e.event_name){var p=new s(o,a.sendMedia);this.__mediaInstances.push({mediaId:t.id,instance:p}),p.createEvent(i)}}}};Object.assign(c.prototype,d),c.videojsPlugin=i,e.exports=c},557:(e,t,n)=>{var i=n(108),r=n(317),a=n(334),o=n(758).wrapFunction,s={track:function(e){this.__isInitialized?this.__trackQueue(e):this.__queuefn.push(o(this.__trackQueue,this,[e]))},__trackQueue:function(e){return!r.isCollectionDisabled()&&e instanceof Object&&(a.handleEvents(e),!0)}};Object.assign(i.prototype,s),e.exports=i,e.exports.visionMain=s}},t={},function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}(322);var e,t}));